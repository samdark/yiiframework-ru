<?php

use app\components\MetaTagsRegistrar;
use yii\helpers\Html;
use yii\widgets\LinkPager;

/* @var $this \yii\web\View */
/* @var $provider \yii\data\ActiveDataProvider */

(new MetaTagsRegistrar($this))
    ->setTitle(Yii::t('post', 'News') . ' - yiiframework.ru')
    ->setDescription('Русскоязычное сообщество Yii - руководство, API, расширения, форум и последние новости.')
    ->useOpenGraphMetaTags()
    ->useTwitterMetaTags()
    ->register();
?>

<div class="row">
    <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8">
        <div class="post-index">

            <div class="post-index-out">
                <div class="post-section">
                    <?= Html::encode($this->title) ?>
                    <a href="<?= \yii\helpers\Url::to(['post/rss'])?>" class="ico-rss-section">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18">
                            <path d="M1.713,0.000 C3.210,0.000 4.651,0.194 6.036,0.581 C7.421,0.968 8.718,1.516 9.926,2.225 C11.133,2.934 12.233,3.784 13.224,4.776 C14.216,5.767 15.066,6.867 15.775,8.074 C16.483,9.282 17.032,10.579 17.419,11.964 C17.806,13.349 18.000,14.790 18.000,16.287 C18.000,16.759 17.833,17.163 17.498,17.498 C17.163,17.833 16.759,18.000 16.287,18.000 C15.814,18.000 15.410,17.833 15.075,17.498 C14.741,17.163 14.573,16.759 14.573,16.287 C14.573,15.105 14.419,13.966 14.111,12.870 C13.802,11.774 13.369,10.750 12.811,9.798 C12.253,8.846 11.583,7.979 10.802,7.198 C10.021,6.417 9.154,5.747 8.202,5.189 C7.251,4.631 6.227,4.198 5.130,3.889 C4.034,3.581 2.895,3.427 1.713,3.427 C1.241,3.427 0.837,3.259 0.502,2.925 C0.167,2.590 0.000,2.186 0.000,1.713 C0.000,1.241 0.167,0.837 0.502,0.502 C0.837,0.167 1.241,0.000 1.713,0.000 ZM1.713,6.479 C3.066,6.479 4.336,6.738 5.524,7.257 C6.712,7.776 7.749,8.478 8.636,9.364 C9.522,10.251 10.224,11.288 10.743,12.476 C11.261,13.664 11.521,14.934 11.521,16.287 C11.521,16.759 11.353,17.163 11.019,17.498 C10.684,17.833 10.280,18.000 9.807,18.000 C9.335,18.000 8.931,17.833 8.596,17.498 C8.261,17.163 8.094,16.759 8.094,16.287 C8.094,15.407 7.927,14.580 7.592,13.805 C7.257,13.031 6.801,12.355 6.223,11.777 C5.645,11.199 4.969,10.743 4.195,10.408 C3.420,10.073 2.593,9.906 1.713,9.906 C1.241,9.906 0.837,9.739 0.502,9.404 C0.167,9.069 -0.000,8.665 -0.000,8.193 C-0.000,7.720 0.167,7.316 0.502,6.982 C0.837,6.646 1.241,6.479 1.713,6.479 ZM4.864,15.479 C4.864,15.821 4.802,16.136 4.677,16.425 C4.552,16.713 4.382,16.966 4.165,17.183 C3.949,17.399 3.693,17.570 3.397,17.695 C3.102,17.819 2.790,17.882 2.462,17.882 C2.120,17.882 1.805,17.819 1.516,17.695 C1.228,17.570 0.975,17.399 0.758,17.183 C0.542,16.966 0.371,16.713 0.246,16.425 C0.121,16.136 0.059,15.821 0.059,15.479 C0.059,15.151 0.121,14.839 0.246,14.544 C0.371,14.248 0.542,13.992 0.758,13.776 C0.975,13.559 1.228,13.389 1.516,13.264 C1.805,13.139 2.120,13.077 2.462,13.077 C2.790,13.077 3.102,13.139 3.397,13.264 C3.693,13.389 3.949,13.559 4.165,13.776 C4.382,13.992 4.552,14.248 4.677,14.544 C4.802,14.839 4.864,15.151 4.864,15.479 Z" />
                        </svg>
                    </a>
                </div>

                <?= Html::a(
                    Yii::t('post', 'Publish post'),
                    ['/post/create'], ['class' => 'btn btn-lg btn-border-success btn-post']
                ) ?>
            </div>

            <div class="post-items">
                <?php foreach ($provider->getModels() as $post): ?>
                    <?= $this->render('_post', ['post' => $post]) ?>
                <?php endforeach ?>
            </div>

            <?= LinkPager::widget([
                'options' => ['class' => 'pagination'],
                'pagination' => $provider->getPagination(),
                'registerLinkTags' => true,
            ]) ?>

        </div>
    </div>

    <div class="hidden-xs hidden-sm col-md-4 col-lg-4 i-twitter">
        <div class="tweet-section">Твиты</div>
        <a href="" class="ico-twitter-section">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 29.24 18.76">
                <path
                        d="M25.911,8.321 C26.316,8.493 26.840,8.615 27.482,8.686 C27.777,8.712 28.061,8.722 28.343,8.722 C28.669,8.722 28.975,8.704 29.254,8.669 C28.902,8.997 28.450,9.283 27.904,9.526 C27.353,9.769 26.643,9.891 25.767,9.891 C25.365,11.389 24.623,12.735 23.536,13.918 C22.454,15.107 21.167,16.088 19.675,16.862 C18.183,17.635 16.544,18.174 14.749,18.479 C13.738,18.661 12.729,18.750 11.716,18.750 C10.950,18.750 10.183,18.696 9.419,18.586 C7.647,18.357 5.946,17.817 4.301,16.969 C2.655,16.125 1.219,14.916 -0.014,13.346 C0.683,13.965 1.494,14.447 2.420,14.781 C3.345,15.114 4.306,15.284 5.304,15.284 C6.303,15.284 7.284,15.100 8.248,14.743 C9.208,14.385 10.071,13.827 10.842,13.072 C10.695,13.094 10.550,13.108 10.400,13.108 C10.121,13.108 9.866,13.059 9.637,12.961 C9.270,12.816 9.017,12.617 8.880,12.368 C8.737,12.119 8.737,11.844 8.880,11.545 C9.017,11.246 9.373,10.983 9.946,10.752 C9.751,10.774 9.560,10.786 9.381,10.786 C9.098,10.786 8.837,10.762 8.598,10.717 C8.191,10.641 7.844,10.516 7.546,10.342 C7.242,10.162 6.999,9.971 6.803,9.764 C6.608,9.557 6.443,9.336 6.309,9.105 C6.555,8.886 6.826,8.719 7.132,8.606 C7.436,8.490 7.838,8.418 8.337,8.394 C7.219,8.152 6.420,7.788 5.945,7.317 C5.471,6.842 5.169,6.295 5.051,5.674 C5.381,5.622 5.708,5.566 6.045,5.500 C6.378,5.431 6.644,5.424 6.841,5.471 C5.888,4.996 5.226,4.442 4.847,3.808 C4.519,3.250 4.354,2.724 4.354,2.237 C4.354,2.176 4.360,2.110 4.374,2.036 C6.091,2.634 7.536,3.183 8.711,3.680 C9.888,4.181 10.932,4.668 11.845,5.144 C12.197,5.287 12.549,5.506 12.904,5.800 L14.056,6.789 C14.301,6.141 14.576,5.500 14.893,4.860 C15.214,4.219 15.551,3.607 15.909,3.023 C16.268,2.440 16.672,1.902 17.123,1.415 C17.573,0.929 18.087,0.530 18.656,0.210 C18.634,0.488 18.489,0.765 18.221,1.032 C18.551,0.754 18.905,0.529 19.287,0.354 C19.675,0.184 20.079,0.072 20.504,0.010 C20.454,0.290 20.256,0.520 19.899,0.695 C19.547,0.871 19.238,1.009 18.970,1.104 C19.065,1.082 19.260,1.017 19.544,0.916 C19.830,0.812 20.136,0.716 20.459,0.633 C20.784,0.547 21.073,0.489 21.338,0.469 C21.598,0.444 21.755,0.490 21.802,0.614 C21.874,0.760 21.832,0.885 21.675,0.988 C21.518,1.092 21.323,1.178 21.098,1.255 C20.876,1.327 20.646,1.386 20.425,1.437 C20.197,1.487 20.050,1.523 19.977,1.545 L19.301,1.782 C19.434,1.768 19.568,1.764 19.701,1.764 C20.261,1.764 20.811,1.848 21.346,2.019 C22.005,2.226 22.607,2.544 23.155,2.971 C23.701,3.394 24.185,3.895 24.597,4.469 C25.011,5.042 25.315,5.656 25.511,6.312 L25.585,6.606 C25.605,6.703 25.633,6.811 25.656,6.931 C25.900,7.008 26.191,7.052 26.535,7.071 C26.876,7.088 27.213,7.071 27.550,7.016 C27.882,6.962 28.186,6.892 28.459,6.807 C28.734,6.721 28.952,6.642 29.109,6.570 C28.916,7.046 28.541,7.444 27.985,7.766 C27.429,8.086 26.736,8.270 25.911,8.321 Z"/>
            </svg>
        </a>
        <a class="twitter-timeline" href="https://twitter.com/yiiframework_ru" data-widget-id="344811392374820865" target="_blank" rel="noopener noreferrer">Твиты
            от @khilkov</a>

        <?php $this->registerJs(
            '!function (d, s, id) {
                var js, fjs = d.getElementsByTagName(s)[0], p = /^http:/.test(d.location) ? "http" : "https";
                if (!d.getElementById(id)) {
                    js = d.createElement(s);
                    js.id = id;
                    js.src = p + "://platform.twitter.com/widgets.js";
                    fjs.parentNode.insertBefore(js, fjs);
                }
            }(document, "script", "twitter-wjs");'
        ); ?>

    </div>
</div>
